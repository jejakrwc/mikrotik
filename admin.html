<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title id="title"></title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
body { font-family: 'Poppins', sans-serif; background: url('img/backgroud.jpg') no-repeat center center fixed; background-size: cover; }
.card { border-radius:20px; }
.hidden { display:none !important; }
input.form-control, .input-group-text, input.form-control:focus { box-shadow:none !important; outline:none !important; }
.icon-wrap{width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;}
.icon-wrap i{font-size:2.5rem;color:#fff;}
.icon-blue{background:linear-gradient(135deg,#0d6efd,#5aa9ff);}
.icon-orange{background:linear-gradient(135deg,#fd7e14,#ffb067);}
.icon-green{background:linear-gradient(135deg,#198754,#4fd18b);}
.icon-purple{background:linear-gradient(135deg,#6f42c1,#a98df0);}
.paket-card:hover{transform: translateY(-3px) scale(1.02);transition: all 0.2s ease;box-shadow: 0 6px 15px rgba(0,0,0,0.25);}
.logout-btn {
  background: rgba(220,53,69,0.85); /* semi-transparan */
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  cursor: pointer;
}

.logout-btn:hover {
  transform: scale(1.2) rotate(10deg);
  box-shadow: 0 6px 18px rgba(0,0,0,0.4);
  background: rgba(220,53,69,1); /* lebih terang saat hover */
}

.logout-btn:active {
  transform: scale(1) rotate(0deg);
  box-shadow: 0 3px 10px rgba(0,0,0,0.3);
}

</style>
</head>
<body class="d-flex justify-content-center align-items-center vh-100">

<!-- LOGIN CARD -->
<div id="loginCard" class="card p-4 shadow" style="max-width:360px;">
  <div class="text-center mb-3">
    <img src="img/logo.png" class="img-fluid" style="max-width:150px;">
    <h5 class="mt-2 fw-bold">Login Hotspot</h5>
    <p class="text-muted mb-3">Masuk untuk mulai internetan</p>
  </div>
  <form id="loginForm">
    <div class="mb-2">
      <input type="text" class="form-control" id="username" placeholder="Username" required>
    </div>
    <div class="mb-2 position-relative">
      <input type="password" class="form-control" id="password" placeholder="Password" required>
      <button type="button" class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2" style="border:none; padding:0 10px;" onclick="togglePassword()">
        <i class="bi bi-eye" id="eyeIcon" style="color:#6c757d;"></i>
      </button>
    </div>
    <div class="mb-3">
      <select id="role" class="form-select" required>
        <option value="">Pilih Hak Akses</option>
        <option value="admin">Admin (Kontrol Penuh)</option>
        <option value="user">User (Akses Terbatas)</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary w-100 fw-semibold">Masuk</button>
    <div id="loginError" class="text-danger mt-2 hidden">Username, password, atau hak akses salah!</div>
  </form>
</div>

<!-- HALAMAN HOTSPOT -->
<div id="hotspotPage" class="hidden container py-4">
<!-- Floating Logout Button -->
<!-- Floating Logout Button Stylish -->
<button id="logoutBtn" class="btn position-fixed top-0 end-0 m-3 logout-btn">
  <i class="bi bi-box-arrow-right"></i>
</button>


  <div class="text-center mb-3">
    <h4 id="welcomeText"></h4>
  </div>

  <!-- Tombol admin khusus -->
  <div id="adminControls" class="mb-3 hidden">
    <button class="btn btn-warning w-100 mb-2">Admin Panel (Kontrol Penuh)</button>
  </div>

  <!-- Paket Hotspot -->
  <div class="row g-2" id="paketList">

    <div class="col-6">
      <div class="card paket-card text-center shadow-sm p-2"
           style="border-radius:12px; cursor:pointer; height:160px; border:none;"
           onclick="showDetail('1 JAM','2 Ribu | 1 Jam','Unlimited','Paket Singkat','#0d6efd','bi-lightning-fill')">
        <div class="icon-wrap icon-blue"><i class="bi bi-lightning-fill"></i></div>
        <h6 class="fw-bold mt-2 mb-1">1 JAM</h6>
        <div class="fw-bold">Rp 2.000</div>
      </div>
    </div>

    <div class="col-6">
      <div class="card paket-card text-center shadow-sm p-2"
           style="border-radius:12px; cursor:pointer; height:160px; border:none;"
           onclick="showDetail('HARIAN','24 Jam | 1 Hari','Unlimited','Paket Harian','#fd7e14','bi-sun-fill')">
        <div class="icon-wrap icon-orange"><i class="bi bi-sun-fill"></i></div>
        <h6 class="fw-bold mt-2 mb-1">HARIAN</h6>
        <div class="fw-bold">Rp 10.000</div>
      </div>
    </div>

    <div class="col-6">
      <div class="card paket-card text-center shadow-sm p-2"
           style="border-radius:12px; cursor:pointer; height:160px; border:none;"
           onclick="showDetail('MINGGUAN','7 Hari | 1 Minggu','Unlimited','Paket Mingguan','#198754','bi-calendar-week-fill')">
        <div class="icon-wrap icon-green"><i class="bi bi-calendar-week-fill"></i></div>
        <h6 class="fw-bold mt-2 mb-1">MINGGUAN</h6>
        <div class="fw-bold">Rp 50.000</div>
      </div>
    </div>

    <div class="col-6">
      <div class="card paket-card text-center shadow-sm p-2"
           style="border-radius:12px; cursor:pointer; height:160px; border:none;"
           onclick="showDetail('BULANAN','30 Hari | 1 Bulan','Unlimited','Paket Bulanan','#6f42c1','bi-moon-fill')">
        <div class="icon-wrap icon-purple"><i class="bi bi-moon-fill"></i></div>
        <h6 class="fw-bold mt-2 mb-1">BULANAN</h6>
        <div class="fw-bold">Rp 150.000</div>
      </div>
    </div>

  </div>

  <!-- Detail Paket -->
  <div id="paketDetail" class="d-none mt-3">
    <div class="shadow-sm p-3 text-center" style="border-radius:15px; border:none;">
      <i class="bi" id="detailIcon" style="font-size:3.5rem; margin-bottom:10px;"></i>
      <h5 class="fw-bold mb-2" id="detailNama"></h5>
      <div class="mb-1"><strong>Masa berlaku:</strong> <span id="detailMasa"></span></div>
      <div class="mb-1"><strong>Kecepatan:</strong> <span id="detailKecepatan"></span></div>
      <a id="btnBeliWA" href="#" target="_blank" class="btn btn-success w-100" style="border-radius:12px; font-weight:500;">Beli Paket</a>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Logout action
const logoutBtn = document.getElementById("logoutBtn");
logoutBtn.addEventListener("click", function(){
  localStorage.removeItem("loggedInUser"); // hapus session
  hotspotPage.classList.add("hidden");     // sembunyikan hotspot
  loginCard.classList.remove("hidden");    // tampilkan login
  loginForm.reset();                        // reset form
});

const users = [
  {username: "admin", password: "123456", role:"admin"},
  {username: "user", password: "abcdef", role:"user"}
];

const loginForm = document.getElementById("loginForm");
const loginCard = document.getElementById("loginCard");
const hotspotPage = document.getElementById("hotspotPage");
const loginError = document.getElementById("loginError");
const adminControls = document.getElementById("adminControls");
const welcomeText = document.getElementById("welcomeText");
const waNumber = "6281234567890"; // ganti WA tujuan

function togglePassword(){
  const pwField = document.getElementById('password');
  const eye = document.getElementById('eyeIcon');
  if(pwField.type === 'password'){ pwField.type='text'; eye.classList.replace('bi-eye','bi-eye-slash');}
  else{ pwField.type='password'; eye.classList.replace('bi-eye-slash','bi-eye'); }
}

loginForm.addEventListener("submit", function(e){
  e.preventDefault();
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();
  const role = document.getElementById("role").value;

  const user = users.find(u => u.username === username && u.password === password && u.role === role);

  if(user){
    localStorage.setItem("loggedInUser", JSON.stringify(user));
    loadHotspotPage(user);
  }else{
    loginError.classList.remove("hidden");
  }
});

function loadHotspotPage(user){
  loginCard.classList.add("hidden");
  hotspotPage.classList.remove("hidden");
  welcomeText.innerText = `Selamat datang, ${user.username} (${user.role})`;
  if(user.role==="admin") adminControls.classList.remove("hidden");
}

function showDetail(nama, masa, kecepatan, jenis, color, iconClass){
  document.getElementById('paketList').classList.add('d-none');
  document.getElementById('paketDetail').classList.remove('d-none');
  document.getElementById('detailNama').innerText = nama;
  document.getElementById('detailMasa').innerText = masa;
  document.getElementById('detailKecepatan').innerText = kecepatan;
  const icon = document.getElementById('detailIcon');
  icon.className = 'bi ' + iconClass;
  icon.style.color = color;
  const pesan = encodeURIComponent(`Halo, saya ingin membeli paket ${nama} (${masa}, ${kecepatan})`);
  document.getElementById('btnBeliWA').href = `https://wa.me/${waNumber}?text=${pesan}`;
}

// Otomatis load jika sudah login sebelumnya
const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));
if(loggedInUser) loadHotspotPage(loggedInUser);
</script>
</body>
</html>
